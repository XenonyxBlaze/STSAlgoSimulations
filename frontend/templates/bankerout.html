{% extends 'banker.html' %}

{% load template_tags %}

{% block output %}

    <div class="m-2 p-2">
        <h1>Allocation Matrix: </h1>

        <table class="table table-striped table-warning">
            <thead>
                <tr>
                    <th scope="col">Process</th>
                    {% for resource in nR %}
                    <th scope="col">R{{ resource }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody class="table-group-divider">
                {% for process in n %}
                <tr>
                    <th scope="row">P{{ process }}</th>
                    {% for res in nR %}
                    <td>{{ alloc|at_index:process|at_index:res }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="m-2 p-2">
        <h1>Need Matrix: </h1>

        <table class="table table-striped table-info">
            <thead>
                <tr>
                    <th scope="col">Process</th>
                    {% for resource in nR %}
                    <th scope="col">R{{ resource }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody class="table-group-divider">
                {% for process in n %}
                <tr>
                    <th scope="row">P{{ process }}</th>
                    {% for res in nR %}
                    <td>{{ need|at_index:process|at_index:res }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="m-2 p-2">
        <h1>Work: </h1>
        {% for state in work %}
        <h4>{{ state }}</h4>
        {% endfor %}
    </div>
    <div class="m-2 p-2">
        <h1>Safe Sequence: </h1>
        {% for state in safe %}
        <h4>{{ state }}</h4>
        {% endfor %}
    </div>

{% endblock %}